--- a/drivers/net/wireless/wl12xx/sdio.c	2012-03-12 18:41:21.000000000 +0200
+++ b/drivers/net/wireless/wl12xx/sdio.c	2012-04-10 17:01:42.000000000 +0300
@@ -319,24 +356,6 @@
 		goto out_free;
 	}
 
-	ret = enable_irq_wake(wl->irq);
-	if (!ret) {
-		wl->irq_wake_enabled = true;
-		device_init_wakeup(wl1271_sdio_wl_to_dev(wl), 1);
-
-		/* if sdio can keep power while host is suspended, enable wow */
-		mmcflags = sdio_get_host_pm_caps(func);
-		wl1271_debug(DEBUG_SDIO, "sdio PM caps = 0x%x", mmcflags);
-
-		if (mmcflags & MMC_PM_KEEP_POWER) {
-			hw->wiphy->wowlan.flags = WIPHY_WOWLAN_ANY;
-			hw->wiphy->wowlan.n_patterns =
-					WL1271_MAX_RX_DATA_FILTERS;
-			hw->wiphy->wowlan.pattern_min_len = 1;
-			hw->wiphy->wowlan.pattern_max_len =
-					WL1271_RX_DATA_FILTER_MAX_PATTERN_SIZE;
-		}
-	}
 	disable_irq(wl->irq);
 
 	sdio_set_host_pm_flags(func, MMC_PM_KEEP_POWER);
